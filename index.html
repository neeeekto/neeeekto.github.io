<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Test</title>
  </head>
  <body>
    <video id="video" muted autoplay></video>
    <script>
      function run() {
        var video = document.getElementById("video");
        alert("Run");

        try {
          if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
            alert("Has mediaDevices");
            // Not adding `{ audio: true }` since we only want video now
            navigator.mediaDevices
              .getUserMedia({ video: true })
              .then(function(stream) {
                alert(stream.id);
                //video.src = window.URL.createObjectURL(stream);
                video.srcObject = stream;
                video.play();
              })
              .catch(e => alert(e));
          }
          alert("not mediaDevices");
        } catch (e) {
          alert(e.message);
        }
      }

      // Get access to the camera!
    </script>
    <button onclick="run()">Run</button>
  </body>
</html>
